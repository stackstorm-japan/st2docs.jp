システム要件
============

サポートしているディストリビューション
--------------------------------------

|st2| は後述する Ubuntu 、RHEL または CentOS にインストールできます。それ以外の GNU/Linux ディス\
トリビューションはサポートしていません。以下は StackStorm がサポートする各ディストリビューション\
のバージョンの一覧になります。それぞれに動作確認済みの Vagrant Box 及び AWS インスタンスの AMI を\
示します。

ISO ファイルから GNU/Linux をインストールした場合、最低限の機能 (Ubuntu の場合 OpenSSH Server と\
最低限のパッケージ) しかインストールされない点にご注意ください。それ以外の |st2| を動かすために必\
要なパッケージは |st2| をインストールする際に自動でインストールされます。

.. note::

  |st2| を実行する GNU/Linux は 64 bit アーキテクチャ版のみサポートされています。


+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Linux (64-bit)                                                                                        | Vagrant Box                                                                  | Amazon AWS AMI                                                                                                                                                    |
+=======================================================================================================+==============================================================================+===================================================================================================================================================================+
| `Ubuntu 14.04 <http://releases.ubuntu.com/trusty/ubuntu-14.04.5-server-amd64.iso>`_                   | `bento/ubuntu-14.04 <https://atlas.hashicorp.com/bento/boxes/ubuntu-14.04>`_ | `Ubuntu Server 14.04 LTS (HVM)  <https://aws.amazon.com/marketplace/pp/B00JV9TBA6/ref=srh_res_product_title?ie=UTF8&sr=0-3&qid=1457037882965>`_                   |
+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `Ubuntu 16.04 <https://www.ubuntu.com/download/server/thank-you?version=16.04.3&architecture=amd64>`_ | `bento/ubuntu-16.04 <https://atlas.hashicorp.com/bento/boxes/ubuntu-16.04>`_ | `Ubuntu 16.04 LTS - Xenial (HVM)  <https://aws.amazon.com/marketplace/pp/B01JBL2M0O/>`_                                                                           |
+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `RHEL 7 <https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux>`_ /                 | `bento/centos-7.2 <https://atlas.hashicorp.com/bento/boxes/centos-7.2>`_     | `Red Hat Enterprise Linux (RHEL) 7.2 (HVM)  <https://aws.amazon.com/marketplace/pp/B019NS7T5I/ref=srh_res_product_title?ie=UTF8&sr=0-2&qid=1457037671547>`_       |
| `CentOS 7 <http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1708.iso>`_     |                                                                              |                                                                                                                                                                   |
+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `RHEL 6 <https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux>`_ /                 | `bento/centos-6.7 <https://atlas.hashicorp.com/bento/boxes/centos-6.7>`_     | `Red Hat Enterprise Linux (RHEL) 6 (HVM)  <https://aws.amazon.com/marketplace/pp/B00CFQWLS6/ref=srh_res_product_title?ie=UTF8&sr=0-8&qid=1457037733401>`_         |
| `CentOS 6 <http://mirror.centos.org/centos/6/isos/x86_64/>`_                                          |                                                                              |                                                                                                                                                                   |
+-------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+

この他に |st2| の Docker イメージから |st2| を使う方法がります。その際、バージョン 1.13.0 の Docker
と、オプションで ``docker-compose`` をインストールする必要があります。詳しくは
:doc:`Docker ガイド <docker>` をご参照ください。

システムリソース要件
--------------------

|st2| をテスト、利用する上で推奨される最低限のシステムリソースです。

+--------------------------------------+-----------------------------------+
|             テスト環境               |        プロダクション環境         |
+======================================+===================================+
|  * Dual CPU                          | * Quad core CPU                   |
|  * 2GB RAM                           | * >16GB RAM                       |
|  * 10GB storage                      | * 40GB storage                    |
|  * 推奨 EC2 モデル: **t2.medium**    | * 推奨 EC2 モデル: **m4.xlarge**  |
+--------------------------------------+-----------------------------------+

.. note::
  もし後から `DC Fabric Automation Suite <https://ewc-docs.extremenetworks.com/solutions/dcfabric/>`_ を追加する場合、更に
  RAM 容量の追加を検討する必要があります。詳しくは `DC Fabric Automation Suite System Requirements
  <https://ewc-docs.extremenetworks.com/solutions/dcfabric/install.html#system-requirements>`_ をご参照ください。

もしストレージのパーティション設定をしている場合、``/var`` と ``/opt`` に 1GB 以上の空き容量があることを確認してください。
これらのディレクトリがマウントされているパーティションに十分な空き容量がない場合、RabbitMQ と MongoDB が正常に動作しない\
可能性があります。

使用する TCP ポート番号
-----------------------

|st2| 及び |st2| に関連するサービスは、デフォルトで以下の番号の TCP ポートを使用します。

* nginx (80, 443)
* mongodb (27017)
* rabbitmq (4369, 5672, 25672)
* postgresql (5432)
* st2auth (9100)
* st2api (9101)
* st2stream (9102) 

もし、他のサービスがこれらのいづれかのポートを使用している場合、|st2| のインストール (ないし起動) に失敗します。
